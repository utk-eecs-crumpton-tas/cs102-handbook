"use strict";(self.webpackChunkcs102_handbook=self.webpackChunkcs102_handbook||[]).push([[1709],{7223:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var l=i(5893),t=i(1151);const a={},s="Speeding Ticket Calculator Notes",r={id:"in-class-lab-notes/speeding-ticket-calculator",title:"Speeding Ticket Calculator Notes",description:"Essentials for the Speeding Ticket Calculator lab",source:"@site/docs/in-class-lab-notes/speeding-ticket-calculator.md",sourceDirName:"in-class-lab-notes",slug:"/in-class-lab-notes/speeding-ticket-calculator",permalink:"/cs102-handbook/docs/in-class-lab-notes/speeding-ticket-calculator",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"Sidebar",previous:{title:"Sorting Algorithms Notes",permalink:"/cs102-handbook/docs/in-class-lab-notes/sorting-algorithms"},next:{title:"Lab Walkthroughs",permalink:"/cs102-handbook/docs/category/lab-walkthroughs"}},o={},c=[{value:"Working with files",id:"working-with-files",level:2},{value:"Including headers",id:"including-headers",level:3},{value:"Opening the file",id:"opening-the-file",level:3},{value:"Error checking the file",id:"error-checking-the-file",level:3},{value:"Reading data out of a file",id:"reading-data-out-of-a-file",level:3},{value:"Closing the file",id:"closing-the-file",level:3},{value:"Usage example",id:"usage-example",level:3},{value:"Reading all lines of data from a file",id:"reading-all-lines-of-data-from-a-file",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"speeding-ticket-calculator-notes",children:"Speeding Ticket Calculator Notes"}),"\n",(0,l.jsx)(n.p,{children:"Essentials for the Speeding Ticket Calculator lab"}),"\n",(0,l.jsx)(n.h2,{id:"working-with-files",children:"Working with files"}),"\n",(0,l.jsx)(n.p,{children:"The basics of working with file streams in C++."}),"\n",(0,l.jsx)(n.h3,{id:"including-headers",children:"Including headers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"// Use this header to include file streams\n#include <fstream>\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ifstream"})," is used to read from a file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ofstream"})," is used to write to a file"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"opening-the-file",children:"Opening the file"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'ifstream fin;\nfin.open("input-data.txt");\n'})}),"\n",(0,l.jsx)(n.p,{children:"or the shorthand"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'ifstream fin("input-data.txt");\n'})}),"\n",(0,l.jsx)(n.h3,{id:"error-checking-the-file",children:"Error checking the file"}),"\n",(0,l.jsx)(n.p,{children:"A file can fail to open if the file does not exist, or the user does not have permission to open that file."}),"\n",(0,l.jsxs)(n.p,{children:["Opening an output file can also fail. ",(0,l.jsx)(n.code,{children:"ofstream"})," will create a new file, but it will not create new directories.\nSo trying to write to ",(0,l.jsx)(n.code,{children:"directory/that/does/not/exist/output-file.txt"})," will fail."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'if(!fin.is_open()) {\n    cerr << "Error opening file " << filename << endl;\n    return 1;\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"reading-data-out-of-a-file",children:"Reading data out of a file"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"ifstream"})," like ",(0,l.jsx)(n.code,{children:"cin"})," is an input stream, so we can use ",(0,l.jsx)(n.code,{children:"fin"})," the same way as ",(0,l.jsx)(n.code,{children:"cin"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"int value;\nstring text;\nfin >> value >> text;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"closing-the-file",children:"Closing the file"}),"\n",(0,l.jsx)(n.p,{children:"You need to explicitly close the file once you are finished with it. It is not guaranteed the data will be written otherwise."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"fin.close()\n"})}),"\n",(0,l.jsx)(n.h3,{id:"usage-example",children:"Usage example"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'string filename = "input-data.txt";\nifstream fin(filename);\n\nif(!fin.is_open()) {\n    cerr << "Error opening file " << filename << endl;\n    return 1;\n}\n\nint value;\nstring text;\nif(fin >> value >> text) {\n  cout << "Got: " << value << " and " << text << endl;\n} else {\n    cout << "Error reading int and string\\n";\n}\n\n\nfin.close();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"reading-all-lines-of-data-from-a-file",children:"Reading all lines of data from a file"}),"\n",(0,l.jsxs)(n.p,{children:["In c++ we can use a ",(0,l.jsx)(n.code,{children:"while"})," loop to read all the lines of data out of a file."]}),"\n",(0,l.jsx)(n.p,{children:"For instance, if we have this file:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-txt",children:"Hello World 100 3.1415\nSample Text 200 2.7182\nAnother String 300 1.618\nMore Text 400 0.5772\nFinal Entry 500 1.4142\n\n"})}),"\n",(0,l.jsx)(n.p,{children:"Notice all the values are separated by whitespace."}),"\n",(0,l.jsx)(n.p,{children:"We can use the following loop to read out all the information"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'/* ...Open the file... */\n\nstring word1;\nstring word2;\nint value;\ndouble fraction;\n\n// Exhaustively match these four values until fin fails\nwhile(fin >> word1 >> word2 >> value >> fraction) {\n    cout << word1 << " " << word2 << " " << value << " " << fraction << endl;\n}\n\n/* ...Close the file... */\n'})}),"\n",(0,l.jsx)(n.p,{children:"This code will print the exact same output as the file."})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>r,a:()=>s});var l=i(7294);const t={},a=l.createContext(t);function s(e){const n=l.useContext(a);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),l.createElement(a.Provider,{value:n},e.children)}}}]);